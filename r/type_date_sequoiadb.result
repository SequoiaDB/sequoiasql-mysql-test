drop table if exists t1;
create table t1(y1 time);
insert into t1 values('-838:59:59.000000');
insert into t1 values('838:59:59.000000');
insert into t1 values('838:59:59.000000');
insert into t1 values('12:59:59.000000');
insert into t1 values('13:59:59');
insert into t1 values('-13:59');
insert into t1 values('0 13:59');
insert into t1 values('34 13:59');
insert into t1 values('24 10');
insert into t1 values('59');
insert into t1 values('101112');
insert into t1 values('1112');
insert into t1 values('12');
insert into t1 values('59');
insert into t1 values(101112);
insert into t1 values(1112);
insert into t1 values(12);
insert into t1 values(59);
insert into t1 values('38:59:59.000000');
insert into t1 values('0:0:0.000000');
select * from t1;
y1
-838:59:59
838:59:59
838:59:59
12:59:59
13:59:59
-13:59:00
13:59:00
829:59:00
586:00:00
00:00:59
10:11:12
00:11:12
00:00:12
00:00:59
10:11:12
00:11:12
00:00:12
00:00:59
38:59:59
00:00:00
update t1 set y1='38:59:00.000000' where y1='38:59:59.000000';
select * from t1;
y1
-838:59:59
838:59:59
838:59:59
12:59:59
13:59:59
-13:59:00
13:59:00
829:59:00
586:00:00
00:00:59
10:11:12
00:11:12
00:00:12
00:00:59
10:11:12
00:11:12
00:00:12
00:00:59
38:59:00
00:00:00
delete from t1;
select * from t1;
y1
insert into t1 values ('-839:00:00.000000');
ERROR 22007: Incorrect time value: '-839:00:00.000000' for column 'y1' at row 1
insert into t1 values ('839:00:00.000000');
ERROR 22007: Incorrect time value: '839:00:00.000000' for column 'y1' at row 1
insert into t1 values ('a');
ERROR 22007: Incorrect time value: 'a' for column 'y1' at row 1
drop table t1;
create table t1(y1 year, y2 year(4));
insert into t1 values(1901,2155);
insert into t1 values('1901','2155');
insert into t1 values('2018','2018');
select * from t1;
y1	y2
1901	2155
1901	2155
2018	2018
update t1 set y2=2008 where y2=2155;
select * from t1;
y1	y2
1901	2008
1901	2008
2018	2018
delete from t1;
select * from t1;
y1	y2
insert into t1(y1) values (1900);
ERROR 22003: Out of range value for column 'y1' at row 1
insert into t1(y2) values (2156);
ERROR 22003: Out of range value for column 'y2' at row 1
insert into t1(y2) values ('a');
ERROR HY000: Incorrect integer value: 'a' for column 'y2' at row 1
drop table t1;
create table t1(d date);
insert into t1 values('1000-01-01'),('9999-12-31');
select * from t1;
d
1000-01-01
9999-12-31
update t1 set d='1000-01-01' where d='2018-11-22';
select * from t1;
d
1000-01-01
9999-12-31
delete from t1;
select * from t1;
d
insert into t1 values ('1000-01-00');
ERROR 22007: Incorrect date value: '1000-01-00' for column 'd' at row 1
insert into t1 values ('10000-01-01');
ERROR 22007: Incorrect date value: '10000-01-01' for column 'd' at row 1
insert into t1 values ('a');
ERROR 22007: Incorrect date value: 'a' for column 'd' at row 1
drop table t1;
create table t1(t timestamp);
SET time_zone='+00:00';
insert into t1 values('1970-01-01 00:00:01');
insert into t1 values('2038-01-19 03:14:07');
insert into t1 values('2012-01-19 03:14:07.999999');
select * from t1;
t
1970-01-01 00:00:01
2038-01-19 03:14:07
2012-01-19 03:14:08
update t1 set t='2012-01-19 03:14:07.999999' where t='2013-01-19 03:14:07.999999';
select * from t1;
t
1970-01-01 00:00:01
2038-01-19 03:14:07
2012-01-19 03:14:08
delete from t1;
select * from t1;
t
insert into t1 values ('1969-12-31 00:00:00');
ERROR 22007: Incorrect datetime value: '1969-12-31 00:00:00' for column 't' at row 1
insert into t1 values ('2038-01-19 03:14:08.999999');
ERROR 22007: Incorrect datetime value: '2038-01-19 03:14:08.999999' for column 't' at row 1
insert into t1 values ('a');
ERROR 22007: Incorrect datetime value: 'a' for column 't' at row 1
drop table t1;
SET time_zone=default;
create table t1(t datetime);
insert into t1 values('1000-01-01 00:00:00.000000');
insert into t1 values('9999-12-31 23:59:59');
insert into t1 values('2012-01-19 03:14:07.999999');
select * from t1;
t
1000-01-01 00:00:00
9999-12-31 23:59:59
2012-01-19 03:14:08
update t1 set t='2012-01-19 03:14:07.999999' where t='2013-01-19 03:14:07.999999';
select * from t1;
t
1000-01-01 00:00:00
9999-12-31 23:59:59
2012-01-19 03:14:08
delete from t1;
select * from t1;
t
insert into t1 values ('1000-01-00 00:00:00.999999');
ERROR 22007: Incorrect datetime value: '1000-01-00 00:00:00.999999' for column 't' at row 1
insert into t1 values ('10000-01-01 00:00:00.000000');
ERROR 22007: Incorrect datetime value: '10000-01-01 00:00:00.000000' for column 't' at row 1
insert into t1 values ('a');
ERROR 22007: Incorrect datetime value: 'a' for column 't' at row 1
drop table t1;
