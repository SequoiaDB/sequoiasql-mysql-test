# The include statement below is a temp one for tests that are yet to
#be ported to run with SequoiaDB,
# (#Case #13100: Check update/delete with order by)
# (#Case #13118: Check query with order by)
# (#Case #15434: index query and order by)
# (#Case #15571: index query and order by on partition table)
--source include/no_valgrind_without_big.inc
--source include/have_sequoiadb.inc

# 
# Run order_by.inc with all of the so-called 6.0 features.
#

--source include/have_semijoin.inc
--source include/have_materialization.inc
--source include/have_firstmatch.inc
--source include/have_loosescan.inc
--source include/have_index_condition_pushdown.inc
--source include/have_mrr.inc

set optimizer_switch='semijoin=on,materialization=on,firstmatch=on,loosescan=on,index_condition_pushdown=on,mrr=on,mrr_cost_based=off';

--source include/order_by.inc

create table t1(id int, k int, primary key(id));
insert into t1 values(1,1),(2,2),(3,3),(4,4);
INSERT INTO t1 SELECT id + 4, k + 4 FROM t1;
INSERT INTO t1 SELECT id + 8, k + 8 FROM t1;
INSERT INTO t1 SELECT id + 16, k + 16 FROM t1;
select * from t1 where id <10 order by id desc;
select * from t1 where id <10 order by id asc;
DROP TABLE t1;

set optimizer_switch=default;

--source include/uninstall_sequoiadb.inc
