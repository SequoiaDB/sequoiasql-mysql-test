# (#Case #13093: Check DataType char)
# (#Case #13094: Check DataType varchar)
# (#Case #13095: Check DataType text)
# (#Case #13096: Check DataType blob)
# (#Case #15437: Check DataType binary)
# (#Case #15439: Check DataType varbinary)
# (#Case #15440: Check DataType tinytext)
# (#Case #15441: Check DataType mediumtext)
# (#Case #15442: Check DataType longtext)
# (#Case #15443: Check DataType tinyblob)
# (#Case #15444: Check DataType mediumblob)
# (#Case #15445: Check DataType longblob)
# (#Case #15440: Check DataType tinytext)
# (#Case #15440: Check DataType tinytext)
--source include/have_sequoiadb.inc

--disable_warnings
drop table if exists t1;
--enable_warnings

#char
create table t1 (a char);
insert into t1 values('a');
select * from t1;
update t1 set a='c' where a='a';
select * from t1;
delete from t1;
select * from t1;
--error 1406
insert into t1(a) values('ab');
drop table t1;
create table t1 (a char(255));
insert into t1 values('我');
insert into t1 values(repeat('a',255));
select * from t1;
--error 1406
insert into t1 values(repeat('a',256));
drop table t1;

#varchar
--error 1118
create table t1 (a varchar(65533));
create table t1 (a varchar(65532));
insert into t1 values('a'),('我');
select * from t1;
update t1 set a='c' where a='a';
select * from t1;
delete from t1;
insert into t1 values(repeat('a',65532));
select length(a) from t1;
--error 1406
insert into t1 values(repeat('a',65533));
drop table t1;

#tinytext
create table t1 (a tinytext);
insert into t1 values('a'),('我'),(repeat('a',255));
select * from t1;
update t1 set a='c' where a='a';
select * from t1;
delete from t1;
select * from t1;
--error 1406
insert into t1 values(repeat('a',256));
drop table t1;

#text
create table t1 (a text);
insert into t1 values('a'),('我');
select * from t1;
update t1 set a='c' where a='a';
select * from t1;
delete from t1;
insert into t1 values(repeat('a',65535));
select length(a) from t1;
--error 1406
insert into t1 values(repeat('a',65536));
drop table t1;

#mediumtext
create table t1 (a mediumtext);
insert into t1 values('a'),('我');
select * from t1;
update t1 set a='c' where a='a';
select * from t1;
delete from t1;
select * from t1;
insert into t1 values(repeat('a',16773074));
select length(a) from t1;
--error 1030
insert into t1 values(repeat('a',16773075));
drop table t1;

#longtext
create table t1 (a longtext);
insert into t1 values('a'),('我');
select * from t1;
update t1 set a='c' where a='a';
select * from t1;
delete from t1;
select * from t1;
insert into t1 values(repeat('a',16773074));
select length(a) from t1;
--error 1030
insert into t1 values(repeat('a',16773075));
drop table t1;

#tinyblob
create table t1 (a tinyblob);
insert into t1 values('a'),('我'),(repeat('a',255));
select * from t1;
update t1 set a='c' where a='a';
select * from t1;
delete from t1;
select * from t1;
--error 1406
insert into t1 values(repeat('a',256));
drop table t1;

#blob
create table t1 (a blob);
insert into t1 values('a'),('我');
select * from t1;
update t1 set a='c' where a='a';
select * from t1;
delete from t1;
select * from t1;
insert into t1 values(repeat('a',65535));
select length(a) from t1;
--error 1406
insert into t1 values(repeat('a',65536));
drop table t1;

#mediumblob
create table t1 (a mediumblob);
insert into t1 values('a'),('我');
select * from t1;
update t1 set a='c' where a='a';
select * from t1;
delete from t1;
select * from t1;
insert into t1 values(repeat('a',16773074));
select length(a) from t1;
--error 1030
insert into t1 values(repeat('a',16773075));
drop table t1;

#longblob
create table t1 (a longblob);
insert into t1 values('a'),('我');
select * from t1;
update t1 set a='c' where a='a';
select * from t1;
delete from t1;
select * from t1;
insert into t1 values(repeat('a',16773074));
select length(a) from t1;
--error 1030
insert into t1 values(repeat('a',16773075));
drop table t1;

#binary
create table t1 (a binary);
insert into t1 values('a');
select * from t1;
update t1 set a='c' where a='a';
select * from t1;
delete from t1;
select * from t1;
--error 1406
insert into t1 values('ab');
drop table t1;
create table t1 (a binary(255));
insert into t1 values('我'),(repeat('a',255));
select * from t1;
--error 1406
insert into t1 values(repeat('a',256));
drop table t1;

#varbinary
--error 1118
create table t1 (a varbinary(65533));
create table t1 (a varbinary(65532));
insert into t1 values('a'),('我');
select * from t1;
update t1 set a='c' where a='a';
select * from t1;
delete from t1;
select * from t1;
insert into t1 values(repeat('a',65532));
select length(a) from t1;
--error 1406
insert into t1 values(repeat('a',65533));
drop table t1;
--source include/uninstall_sequoiadb.inc
